:root {
      --gold: #AB8900;
      --black: #000;
      --white: #fff;
      --ink: #1C1A15;
      --muted: #7D7567;
      --faint: #B8AD9A;
      --line: #E6E0D4;
      --tint: rgba(171,137,0,0.06);
      --font-display: "Cormorant", Georgia, serif;
      --font-body: "Karla", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body { margin: 0; font-family: var(--font-body); color: var(--ink); background: var(--white); }
    button, input, textarea { font-family: inherit; }

    .page { display: none; min-height: 100vh; background: var(--white); }
    .page.active { display: block; }

    .btn-outline { padding: 14px 48px; border: 1.5px solid var(--gold); background: transparent; color: var(--gold); font-size: 11px; font-weight: 500; letter-spacing: 3px; text-transform: uppercase; cursor: pointer; }
    .btn-outline:active { background: var(--gold); color: var(--white); transform: scale(0.98); }

    .welcome { min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px 28px; text-align: center; position: relative; }
    .accent { position: absolute; left: 50%; transform: translateX(-50%); width: 2px; }
    .accent-top { top: 22px; height: 140px; background: linear-gradient(to bottom, var(--gold) 0%, rgba(171,137,0,0) 64%); }
    .accent-bottom { bottom: 22px; height: 110px; background: linear-gradient(to top, var(--gold) 0%, rgba(171,137,0,0) 64%); }
    .logo { width: 350px; margin-bottom: 30px; }
    .logo svg { width: 100%; height: auto; display: block; }
    .welcome-title { font-family: var(--font-display); font-style: italic; font-weight: 300; font-size: 36px; line-height: 1.15; margin: 0 0 10px; color: var(--black); }
    .gold { color: var(--gold); }
    .gold-text { color: var(--gold); }
    .welcome-desc { font-size: 15px; font-weight: 300; line-height: 1.8; color: var(--muted); max-width: 380px; margin: 0 0 30px; }

    .q-wrap { min-height: 100vh; padding-bottom: 110px; }
    .q-header { display: flex; align-items: center; justify-content: space-between; padding: 14px 18px 10px; border-bottom: 1px solid var(--line); }
    .q-brand img { height: 40px; width: auto; display: block; }
    .q-tagline { font-family: var(--font-display); font-style: italic; font-weight: 300; font-size: 12px; color: var(--gold); }

    .top-meta { display: flex; align-items: flex-end; justify-content: space-between; gap: 16px; padding: 10px 18px 12px; border-bottom: 1px solid var(--line); }
    .top-left { flex: 1; min-width: 0; }
    .top-k { font-size: 10px; letter-spacing: 3px; text-transform: uppercase; color: var(--muted); }
    .top-rule { margin-top: 10px; height: 2px; background: rgba(171,137,0,0.25); }
    .top-rule-fill { height: 2px; background: var(--gold); }
    .top-right { font-size: 11px; font-weight: 300; color: var(--faint); letter-spacing: 0.6px; white-space: nowrap; }

    .q-body { padding: 28px 18px 10px; max-width: 760px; margin: 0 auto; text-align: center; }
    .q-title { font-family: var(--font-display); font-weight: 300; font-size: 34px; line-height: 1.15; margin: 0 0 10px; }
    .q-subtitle { font-size: 13px; font-weight: 300; line-height: 1.6; color: var(--muted); margin: 0 0 18px; }

    /* Nav with validation message */
    .nav-wrap { position: fixed; left: 0; right: 0; bottom: 0; z-index: 40; background: var(--white); border-top: 1px solid var(--line); }
    .validation-msg { text-align: center; padding: 8px 18px 0; font-size: 12px; font-weight: 400; color: var(--gold); letter-spacing: 0.3px; }
    .nav { display: flex; gap: 12px; padding: 12px 18px 14px; justify-content: center; }
    .nav .btn-outline { padding: 14px 34px; min-width: 140px; }

    .list { width: 100%; max-width: 640px; margin: 18px auto 0; border-top: 1px solid var(--line); text-align: left; }
    .row { display: flex; align-items: center; gap: 14px; padding: 14px 10px; border-bottom: 1px solid var(--line); cursor: pointer; user-select: none; }
    .row:active { background: rgba(0,0,0,0.02); }
    /* CHANGE: row-name darkened from --muted to near-ink for readability */
    .row-name { flex: 1 1 auto; min-width: 0; font-size: 14px; font-weight: 300; color: #3D3830; line-height: 1.25; white-space: normal; overflow-wrap: anywhere; }
    .row.selected .row-name { color: var(--ink); font-weight: 400; }

    .pill { width: 26px; height: 26px; border: 1px solid var(--line); border-radius: 999px; display: flex; align-items: center; justify-content: center; font-family: var(--font-display); font-size: 14px; color: var(--faint); flex: 0 0 auto; margin-left: auto; }
    .row.rank.selected .pill { border-color: var(--gold); background: var(--gold); color: var(--white); }
    .row.disabled { opacity: 0.25; pointer-events: none; }

    .check { width: 18px; height: 18px; border: 1px solid var(--line); border-radius: 4px; position: relative; flex: 0 0 auto; margin-left: auto; }
    .row.check.selected .check { border-color: var(--gold); background: var(--tint); }
    .row.check.selected .check::after { content: ""; position: absolute; left: 5px; top: 2px; width: 5px; height: 9px; border-right: 2px solid var(--gold); border-bottom: 2px solid var(--gold); transform: rotate(45deg); }

    .tier-label { margin-top: 16px; font-size: 10px; font-weight: 500; letter-spacing: 3px; text-transform: uppercase; color: var(--gold); }
    .tier-slots { display: flex; gap: 10px; margin: 10px auto 18px; max-width: 640px; }
    .tier-slot { flex: 1; min-width: 0; height: 44px; border: 1px dashed var(--line); display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 300; color: var(--faint); background: var(--white); padding: 0 8px; text-align: center; }
    .tier-slot.filled { border-style: solid; border-color: var(--gold); background: var(--tint); color: var(--ink); font-weight: 400; }

    .ratio { max-width: 560px; margin: 0 auto; }
    .ratio-head { display: flex; justify-content: space-between; gap: 12px; margin: 8px 0 16px; }
    .ratio-end { font-size: 10px; letter-spacing: 2px; text-transform: uppercase; color: var(--faint); }
    .ratio-end.right { text-align: right; }

    .slider-wrap { position: relative; height: 26px; margin: 0 auto; }
    .slider-track { position: absolute; left: 0; right: 0; top: 50%; transform: translateY(-50%); height: 2px; background: var(--line); }
    .slider-fill { position: absolute; left: 0; top: 50%; transform: translateY(-50%); height: 2px; background: var(--gold); width: 50%; }
    .slider { position: relative; width: 100%; appearance: none; height: 26px; background: transparent; outline: none; margin: 0; }
    .slider::-webkit-slider-thumb { appearance: none; width: 20px; height: 20px; border-radius: 999px; background: var(--white); border: 2px solid var(--gold); box-shadow: 0 2px 6px rgba(0,0,0,0.10); }
    .slider::-moz-range-thumb { width: 20px; height: 20px; border-radius: 999px; background: var(--white); border: 2px solid var(--gold); box-shadow: 0 2px 6px rgba(0,0,0,0.10); }

    .ratio-readout { margin-top: 18px; font-family: var(--font-display); font-style: italic; font-weight: 300; font-size: 18px; color: var(--ink); }
    .preset-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-top: 18px; }
    .preset { border: 1px solid var(--line); background: var(--white); padding: 14px 10px; font-size: 12px; font-weight: 300; color: var(--muted); cursor: pointer; line-height: 1.1; text-align: center; border-radius: 6px; }
    .preset.active { border-color: var(--gold); background: var(--tint); color: var(--ink); font-weight: 400; }

    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 18px auto 0; max-width: 640px; text-align: left; }
    .card { border: 1px solid var(--line); background: var(--white); padding: 0; cursor: pointer; position: relative; }
    .card:active { transform: scale(0.98); }
    .card-media { height: 110px; background: linear-gradient(180deg, rgba(0,0,0,0.03), rgba(0,0,0,0.00)); }
    .card-media.small { height: 86px; }
    /* CHANGE: card-label darkened from --muted to #3D3830 */
    .card-label { padding: 10px 10px 12px; font-size: 13px; font-weight: 300; color: #3D3830; }
    .card-check { position: absolute; top: 10px; right: 10px; width: 18px; height: 18px; border-radius: 999px; border: 1px solid var(--line); background: var(--white); }
    .card.selected { border-color: var(--gold); background: var(--tint); }
    .card.selected .card-label { color: var(--ink); font-weight: 400; }
    .card.selected .card-check { border-color: var(--gold); background: var(--gold); }
    .card.selected .card-check::after { content: ""; position: absolute; left: 6px; top: 3px; width: 4px; height: 8px; border-right: 2px solid var(--white); border-bottom: 2px solid var(--white); transform: rotate(45deg); }

    .split { margin-top: 22px; }
    .split-head { font-size: 10px; font-weight: 500; letter-spacing: 3px; text-transform: uppercase; color: var(--gold); margin: 0 auto 10px; max-width: 640px; text-align: left; }

    .yn { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 18px auto 0; max-width: 640px; }
    .yn-btn { padding: 14px 12px; border: 1px solid var(--line); background: var(--white); font-size: 12px; font-weight: 400; letter-spacing: 2px; text-transform: uppercase; color: var(--muted); cursor: pointer; border-radius: 6px; }
    .yn-btn.active { border-color: var(--gold); background: var(--tint); color: var(--ink); }

    .prompt { margin: 14px auto 0; border: 1px solid var(--line); background: var(--white); padding: 14px 12px; max-width: 640px; text-align: left; }
    .prompt-title { font-size: 12px; font-weight: 400; margin-bottom: 10px; }
    .prompt-line { display: flex; justify-content: space-between; gap: 12px; padding: 8px 0; border-top: 1px solid var(--line); }
    .prompt-line:first-of-type { border-top: 0; }
    .prompt-k { font-size: 10px; letter-spacing: 3px; text-transform: uppercase; color: var(--faint); }
    .prompt-v { font-size: 13px; font-weight: 300; color: var(--muted); text-decoration: none; }

    .field { margin: 18px auto 0; max-width: 640px; text-align: left; }
    .field-label { display: block; font-size: 10px; letter-spacing: 3px; text-transform: uppercase; color: var(--faint); margin-bottom: 8px; }
    .req { color: var(--gold); margin-left: 4px; }
    .input, .textarea { width: 100%; border: 1px solid var(--line); background: var(--white); color: var(--ink); padding: 12px 12px; font-size: 14px; font-weight: 300; outline: none; border-radius: 6px; }
    .textarea { min-height: 140px; resize: vertical; }
    .counter { margin-top: 8px; font-size: 11px; color: var(--faint); letter-spacing: 0.4px; text-align: right; }

    .toggle { display: flex; gap: 10px; flex-wrap: wrap; }
    .toggle-btn { padding: 10px 12px; border: 1px solid var(--line); background: var(--white); color: var(--muted); font-size: 12px; font-weight: 300; cursor: pointer; border-radius: 6px; }
    .toggle-btn.active { border-color: var(--gold); background: var(--tint); color: var(--ink); font-weight: 400; }

    .review-stack { display: grid; gap: 12px; max-width: 740px; margin: 18px auto 0; text-align: left; }
    .review-card { border: 1px solid var(--line); background: var(--white); padding: 12px 12px; border-radius: 6px; }
    .review-top { display: flex; align-items: baseline; justify-content: space-between; gap: 16px; margin-bottom: 8px; }
    /* CHANGE: review-k and review-v darkened for legibility */
    .review-k { font-size: 10px; letter-spacing: 3px; text-transform: uppercase; color: #3D3830; }
    .review-edit { border: 0; background: transparent; color: var(--muted); font-size: 12px; font-weight: 300; cursor: pointer; text-decoration: underline; padding: 0; }
    .review-v { font-size: 13px; font-weight: 300; color: #3D3830; line-height: 1.5; white-space: pre-wrap; }

    .radio-dot { width: 22px; height: 22px; border: 1.5px solid var(--line); border-radius: 999px; flex: 0 0 auto; }
    .row.radio.selected .radio-dot { border-color: var(--gold); background: var(--white); position: relative; }
    .row.radio.selected .radio-dot::after { content: ""; position: absolute; left: 50%; top: 50%; width: 10px; height: 10px; transform: translate(-50%,-50%); border-radius: 999px; background: var(--gold); }

    .chip-row { display: flex; flex-wrap: wrap; gap: 10px; max-width: 640px; margin: 12px auto 0; justify-content: flex-start; }
    .chip { border: 1px solid var(--line); background: var(--white); color: var(--muted); padding: 10px 12px; border-radius: 999px; font-size: 12px; font-weight: 300; cursor: pointer; }
    .chip.active { border-color: var(--gold); background: var(--tint); color: var(--ink); font-weight: 400; }

    /* Hardware (Q5) gallery */
    .hw-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; max-width: 640px; margin: 12px auto 0; }
    .hw-card { border: 1px solid var(--line); background: var(--white); border-radius: 6px; padding: 0; cursor: pointer; position: relative; overflow: hidden; text-align: left; }
    .hw-card:active { transform: scale(0.98); }
    .hw-media { height: 96px; border-bottom: 1px solid rgba(0,0,0,0.03); }
    /* CHANGE: hw-label darkened from --muted to #3D3830 */
    .hw-label { padding: 10px 12px 12px; font-size: 12px; font-weight: 300; color: #3D3830; letter-spacing: 0.2px; }
    .hw-check { position: absolute; top: 10px; right: 10px; width: 18px; height: 18px; border-radius: 999px; border: 1px solid var(--line); background: var(--white); }
    .hw-card.selected { border-color: var(--gold); background: var(--tint); }
    .hw-card.selected .hw-label { color: var(--ink); font-weight: 400; }
    .hw-card.selected .hw-check { border-color: var(--gold); background: var(--gold); }
    .hw-card.selected .hw-check::after { content: ""; position: absolute; left: 6px; top: 3px; width: 4px; height: 8px; border-right: 2px solid var(--white); border-bottom: 2px solid var(--white); transform: rotate(45deg); }

    /* Thank You screen */
    .thankyou { min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 60px 28px; text-align: center; position: relative; background: var(--white); }
    .ty-icon { margin-bottom: 24px; }
    .ty-icon img { width: 60px; height: 60px; object-fit: contain; display: block; margin: 0 auto; }
    .ty-title { font-family: var(--font-display); font-style: italic; font-weight: 300; font-size: 28px; line-height: 1.2; color: var(--ink); margin-bottom: 24px; max-width: 340px; }
    .ty-divider { width: 200px; height: 1px; background: var(--line); margin: 0 auto 24px; }
    .ty-body { font-size: 14px; font-weight: 300; line-height: 1.8; color: var(--muted); max-width: 300px; margin-bottom: 24px; }
    .ty-actions { margin-bottom: 20px; }
    .ty-note { font-size: 12px; font-weight: 300; color: var(--faint); letter-spacing: 0.4px; }

    /* Generated app shell */
    #app { min-height: 100vh; }
    .page { display:none; }
    .page.active { display:block; }
    button { font-family: inherit; }
    a { color: inherit; }
    .logo svg { max-width: 520px; width: 100%; height: auto; }
    .card-media img, .hw-media img { width:100%; height:100%; object-fit:cover; display:block; }
    .q-brand img { width:36px; height:36px; object-fit:contain; }
    .welcome .logo { max-width:520px; margin: 0 auto 26px; }
    .welcome .logo svg { display:block; }
    .welcome .logo img { max-width:520px; width:100%; height:auto; display:block; }
    .q-brand img { width:35px !important; height:35px !important; }

    /* Sharp corners override */
    .card, .hw-card, .review-card, .tier-slot, .row, .input, .textarea, .btn-outline, .preset, .toggle-btn, .yn-btn {
      border-radius: 0 !important;
    }
